<html>

<head>
    <meta charset="utf-8">
</head>

<body>
    <button onclick="check()" style="width:100px;margin:auto">检查网络</button>
    <button onclick="StartMonitor()" style="width:100px;margin:auto">StartMonitor</button>
    <button onclick="StopMonitor()" style="width:100px;margin:auto">StopMonitor</button>
    <div id="result" style="width:800px;height:400px;margin:auto"></div>
    <object id="obj" type="brown/home" style="visibility:hidden; width:0px; height:0px;"></object>
</body>
<script>

    var obj = document.getElementById("obj");
    obj.addEventListener('onCheckNetwork', onCheckNetwork );
    obj.addEventListener('onCheckThreeTimes', StopMonitor );
    function onCheckNetwork(msg) {
        console.log(msg);
        var li=document.createElement('li');
        li.innerHTML=msg;
        document.getElementById('result').appendChild(li);
    }
    function check() {
        document.getElementById('result').style.display='block';
        document.getElementById('result').innerHTML = "";
        for(var i=0;i<3;i++){
            obj.CheckNetConnect();
        }
    }
    function StartMonitor() {
        document.getElementById('result').innerHTML = "";
        console.log("1111");
        obj.StopCheckNetWork();
        obj.StartCheckNetWork();
    }
    function StopMonitor() {
        obj.StopCheckNetWork();
    }

</script>

</html>